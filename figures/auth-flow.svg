<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="838px" preserveAspectRatio="none" style="width:728px;height:838px;" version="1.1" viewBox="0 0 728 838" width="728px" zoomAndPan="magnify"><defs><filter height="300%" id="f1n5z9smsk5w2g" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="31" x2="31" y1="86.4883" y2="751.3203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="290" x2="290" y1="86.4883" y2="751.3203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="459.5" x2="459.5" y1="86.4883" y2="751.3203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="539.5" x2="539.5" y1="86.4883" y2="751.3203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="650.5" x2="650.5" y1="86.4883" y2="751.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="8" y="83.5352">Player</text><ellipse cx="31.5" cy="13" fill="#FEFECE" filter="url(#f1n5z9smsk5w2g)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M31.5,21 L31.5,48 M18.5,29 L44.5,29 M31.5,48 L18.5,63 M31.5,48 L44.5,63 " fill="none" filter="url(#f1n5z9smsk5w2g)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="8" y="763.8555">Player</text><ellipse cx="31.5" cy="776.8086" fill="#FEFECE" filter="url(#f1n5z9smsk5w2g)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M31.5,784.8086 L31.5,811.8086 M18.5,792.8086 L44.5,792.8086 M31.5,811.8086 L18.5,826.8086 M31.5,811.8086 L44.5,826.8086 " fill="none" filter="url(#f1n5z9smsk5w2g)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#99FF99" filter="url(#f1n5z9smsk5w2g)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="57" x="260" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="267" y="71.5352">Server</text><rect fill="#99FF99" filter="url(#f1n5z9smsk5w2g)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="57" x="260" y="750.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="267" y="770.8555">Server</text><rect fill="#99FF99" filter="url(#f1n5z9smsk5w2g)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="430.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="437.5" y="71.5352">World</text><rect fill="#99FF99" filter="url(#f1n5z9smsk5w2g)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="430.5" y="750.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="437.5" y="770.8555">World</text><rect fill="#FEFECE" filter="url(#f1n5z9smsk5w2g)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="72" x="501.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="508.5" y="71.5352">AWS SES</text><rect fill="#FEFECE" filter="url(#f1n5z9smsk5w2g)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="72" x="501.5" y="750.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="508.5" y="770.8555">AWS SES</text><rect fill="#FEFECE" filter="url(#f1n5z9smsk5w2g)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="122" x="587.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="594.5" y="71.5352">AWS DynamoDB</text><rect fill="#FEFECE" filter="url(#f1n5z9smsk5w2g)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="122" x="587.5" y="750.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="594.5" y="770.8555">AWS DynamoDB</text><polygon fill="#A80036" points="278.5,113.7988,288.5,117.7988,278.5,121.7988,282.5,117.7988" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31.5" x2="284.5" y1="117.7988" y2="117.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="38.5" y="113.0566">GET /</text><polygon fill="#A80036" points="42.5,143.1094,32.5,147.1094,42.5,151.1094,38.5,147.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="36.5" x2="289.5" y1="147.1094" y2="147.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="48.5" y="142.3672">200 index.html</text><polygon fill="#A80036" points="278.5,172.4199,288.5,176.4199,278.5,180.4199,282.5,176.4199" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31.5" x2="284.5" y1="176.4199" y2="176.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="38.5" y="171.6777">POST /start-auth</text><polygon fill="#A80036" points="447.5,201.7305,457.5,205.7305,447.5,209.7305,451.5,205.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="290.5" x2="453.5" y1="205.7305" y2="205.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="297.5" y="200.9883">.start_auth()</text><polygon fill="#A80036" points="42.5,231.041,32.5,235.041,42.5,239.041,38.5,235.041" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="36.5" x2="289.5" y1="235.041" y2="235.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="48.5" y="230.2988">302 /?check-email</text><polygon fill="#A80036" points="527.5,260.3516,537.5,264.3516,527.5,268.3516,531.5,264.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="459.5" x2="533.5" y1="264.3516" y2="264.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="466.5" y="259.6094">OTP Link</text><polygon fill="#A80036" points="42.5,289.6621,32.5,293.6621,42.5,297.6621,38.5,293.6621" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="36.5" x2="538.5" y1="293.6621" y2="293.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="48.5" y="288.9199">Email: OTP Link</text><polygon fill="#A80036" points="278.5,318.9727,288.5,322.9727,278.5,326.9727,282.5,322.9727" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31.5" x2="284.5" y1="322.9727" y2="322.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="38.5" y="318.2305">GET /otp</text><polygon fill="#A80036" points="447.5,348.2832,457.5,352.2832,447.5,356.2832,451.5,352.2832" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="290.5" x2="453.5" y1="352.2832" y2="352.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="297.5" y="347.541">.authenticate_otp()</text><polygon fill="#A80036" points="638.5,377.5938,648.5,381.5938,638.5,385.5938,642.5,381.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="459.5" x2="644.5" y1="381.5938" y2="381.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="466.5" y="376.8516">PUT Session Token</text><polygon fill="#A80036" points="470.5,406.9043,460.5,410.9043,470.5,414.9043,466.5,410.9043" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="464.5" x2="649.5" y1="410.9043" y2="410.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="476.5" y="406.1621">OK</text><polygon fill="#A80036" points="301.5,436.2148,291.5,440.2148,301.5,444.2148,297.5,440.2148" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="295.5" x2="458.5" y1="440.2148" y2="440.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="307.5" y="435.4727">OK: Session Token</text><polygon fill="#A80036" points="42.5,465.5254,32.5,469.5254,42.5,473.5254,38.5,469.5254" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="36.5" x2="289.5" y1="469.5254" y2="469.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="235" x="48.5" y="464.7832">OK: Session Cookie + 302 /?welcome</text><polygon fill="#A80036" points="278.5,494.8359,288.5,498.8359,278.5,502.8359,282.5,498.8359" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31.5" x2="284.5" y1="498.8359" y2="498.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="38.5" y="494.0938">GET /?welcome + Session Cookie</text><polygon fill="#A80036" points="447.5,524.1465,457.5,528.1465,447.5,532.1465,451.5,528.1465" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="290.5" x2="453.5" y1="528.1465" y2="528.1465"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="297.5" y="523.4043">.authenticate_session()</text><polygon fill="#A80036" points="638.5,553.457,648.5,557.457,638.5,561.457,642.5,557.457" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="459.5" x2="644.5" y1="557.457" y2="557.457"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="466.5" y="552.7148">GET Session Token</text><polygon fill="#A80036" points="470.5,582.7676,460.5,586.7676,470.5,590.7676,466.5,586.7676" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="464.5" x2="649.5" y1="586.7676" y2="586.7676"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="476.5" y="582.0254">OK: Mob Identifier</text><polygon fill="#A80036" points="301.5,612.0781,291.5,616.0781,301.5,620.0781,297.5,616.0781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="295.5" x2="458.5" y1="616.0781" y2="616.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="307.5" y="611.3359">OK: Mob Identifier</text><polygon fill="#A80036" points="278.5,641.3887,288.5,645.3887,278.5,649.3887,282.5,645.3887" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31.5" x2="284.5" y1="645.3887" y2="645.3887"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="38.5" y="640.6465">websocket.send(text)</text><polygon fill="#A80036" points="447.5,670.6992,457.5,674.6992,447.5,678.6992,451.5,674.6992" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="290.5" x2="453.5" y1="674.6992" y2="674.6992"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="297.5" y="669.957">.command(text)</text><polygon fill="#A80036" points="301.5,700.0098,291.5,704.0098,301.5,708.0098,297.5,704.0098" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="295.5" x2="458.5" y1="704.0098" y2="704.0098"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="307.5" y="699.2676">Updates</text><polygon fill="#A80036" points="42.5,729.3203,32.5,733.3203,42.5,737.3203,38.5,733.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="36.5" x2="289.5" y1="733.3203" y2="733.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="48.5" y="728.5781">Updates</text><!--MD5=[4a48a6c6b5b4479da2e31d07c1ca0d5b]
@startuml auth-flow
actor Player
participant Server #99FF99
participant World #99FF99
Player -> Server: GET /
Server - -> Player: 200 index.html
Player -> Server: POST /start-auth
Server -> World: .start_auth()
Server - -> Player: 302 /?check-email
World -> "AWS SES": OTP Link
"AWS SES" - -> Player: Email: OTP Link
Player -> Server: GET /otp
Server -> World: .authenticate_otp()
World -> "AWS DynamoDB": PUT Session Token
"AWS DynamoDB" - -> World: OK
World - -> Server: OK: Session Token
Server - -> Player: OK: Session Cookie + 302 /?welcome
Player -> Server: GET /?welcome + Session Cookie
Server -> World: .authenticate_session()
World -> "AWS DynamoDB": GET Session Token
"AWS DynamoDB" -> World: OK: Mob Identifier
World - -> Server: OK: Mob Identifier
Player -> Server: websocket.send(text)
Server -> World: .command(text)
World - -> Server: Updates
Server - -> Player: Updates
@enduml

PlantUML version 1.2020.15(Sun Jun 28 04:39:45 PDT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>